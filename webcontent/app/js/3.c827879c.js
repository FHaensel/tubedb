(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"5e02":function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-layout",{attrs:{view:"hHh LpR fFf"}},[e("q-header",{staticClass:"bg-grey-7 text-grey-4",attrs:{reveal:"",elevated:""}},[e("q-toolbar",{staticClass:"fit row wrap justify-center items-start content-start title"},[e("div",{staticClass:"text-h5"},[t._v("TubeDB Diagram")])])],1),void 0!==t.model?e("q-drawer",{attrs:{"show-if-above":"",side:"left",behavior:"desktop","content-class":"bg-grey-4",width:t.drawerWidth}},[e("div",{staticClass:"fit row"},[e("q-scroll-area",{staticClass:"col-grow"}),e("div",{directives:[{name:"touch-pan",rawName:"v-touch-pan.prevent.mouse",value:t.onChangeDrawerWidth,expression:"onChangeDrawerWidth",modifiers:{prevent:!0,mouse:!0}}],staticClass:"drawerChanger"})],1)]):t._e(),e("q-page-container",[e("canvas",{staticStyle:{"border-style":"solid"}})])],1)},i=[],o=(e("c35a"),e("e6cf"),e("ded3")),s=e.n(o),d=e("2f62"),n=e("5698"),c={data(){return{drawerWidth:400,data:void 0}},computed:s()(s()(s()({},Object(d["c"])({model:t=>t.model.data,modelLoading:t=>t.model.loading,modelError:t=>t.model.error})),Object(d["b"])({api:"api",apiGET:"apiGET"})),{},{dataXrange(){return void 0===this.data?[0,1]:[0,this.data.length-1]},dataYrange(){if(void 0===this.data)return[0,1];var t=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return this.data.forEach((function(e){var r=e[1];a<r&&(a=r),t>r&&(t=r)})),[t,a]}}),methods:{onChangeDrawerWidth(t){var a=t.delta.x;this.drawerWidth+=a,this.drawerWidth<30&&(this.drawerWidth=30),this.drawerWidth>800&&(this.drawerWidth=800)},createDiagram(){const t=1280,a=400,e={top:0,right:0,bottom:0,left:0},r=t-e.right-e.left,i=a-e.top-e.bottom,o=n["e"]().range([0,r]),s=n["e"]().range([i,0]),d=(n["a"](o),n["b"](s),n["f"]("canvas").attr("width",t).attr("height",a)),c=d.node().getContext("2d",{alpha:!1});c.webkitImageSmoothingEnabled=!1,c.mozImageSmoothingEnabled=!1,c.imageSmoothingEnabled=!1,c.translate(e.left,e.top);const h=n["d"]().x(((t,a)=>~~o(a))).y((t=>~~s(t[1]))).context(c),l=void 0===this.data?[]:this.data;o.domain(this.dataXrange),s.domain(this.dataYrange),c.fillStyle="white",c.fillRect(0,0,r,i),c.beginPath(),h(l),c.lineWidth=1,c.opacity=1,c.strokeStyle="black",c.stroke(),c.closePath()}},watch:{async model(){if(void 0!==this.model)try{var t={plot:"AEG01",sensor:"Ta_200",aggregation:"hour",interpolated:!1,quality:"step",width:1890,height:100,by_year:!0,connection:"step",raw_connection:"curve",value:"line",raw_value:"point",year:2020},a=await this.apiGET(["tsdb","query_csv"],{params:t}),e=n["c"](a.data);e.shift(),e=e.map((t=>[t[0],Number.parseFloat(t[1])])),this.data=e}catch(r){console.log(r)}},data(){this.createDiagram()}},async mounted(){this.$store.dispatch("model/init"),this.createDiagram()}},h=c,l=(e("c87d"),e("2877")),g=e("4d5a"),m=e("e359"),u=e("65c6"),p=e("9404"),w=e("4983"),v=e("09e3"),f=e("75c3"),b=e("eebe"),y=e.n(b),E=Object(l["a"])(h,r,i,!1,null,"406f78f7",null);a["default"]=E.exports;y()(E,"components",{QLayout:g["a"],QHeader:m["a"],QToolbar:u["a"],QDrawer:p["a"],QScrollArea:w["a"],QPageContainer:v["a"]}),y()(E,"directives",{TouchPan:f["a"]})},c87d:function(t,a,e){"use strict";e("f020")},f020:function(t,a,e){}}]);