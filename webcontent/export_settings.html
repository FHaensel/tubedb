<!DOCTYPE html>
<html lang="en">
<head>
<title>(4) Export Climate Data - settings</title>
<meta name="robots" content="noindex, nofollow" />
<meta charset="utf-8">
<link rel="icon" type="image/png" href="favicon.png" />
<link rel="stylesheet" href="./fonts/fonts.css" type="text/css">
<script src="jquery.min.js"></script>
<script src="export_settings.js"></script>

<style type="text/css">
#top_line {display: table; width: 100%; }
#top_line_left {display: table-cell; text-align: left; }
#top_line_right {display: table-cell; text-align: right; }
h1 {
	margin-bottom: 40px;
	text-align:center;
	font-size: 2.5em;
	/*font-family: serif;*/
}
div.bg {
	background-image: url(timeseries_bg3.png);
	background-position: top left;
	background-size: 100%;
}
body {
	margin: 0px;
	background-color:#f6f6f6;
	font-size: 0.9em;
	font-family: Roboto,sans-serif;
}

.horizontal-box {display:flex; flex-flow:row;}
.spacer {flex:auto;}
.center {flex:none;}
.main {background-color:#f6f6f6;}
</style>

</head>

<body>
<div class="bg">

<div id="top_line">
<div id="top_line_left">
<div style="display:inline-block">status:</div>
<div id="status" style="display:inline-block">init...</div>
</div>
<div id="top_line_right">
	<button onclick="var hE=document.querySelector('#div_help_English').style;var hD=document.querySelector('#div_help_Deutsch').style;var vE=(hE.display=='none');hE.display=vE?'inline':'none';hD.display='none';">
		<b>[i]</b> (English)
	</button>
	<button onclick="var hD=document.querySelector('#div_help_Deutsch').style;var hE=document.querySelector('#div_help_English').style;hD.display=(hD.display=='none')?'inline':'none';hE.display='none';">
		<b>[i]</b> (Deutsch)
	</button>
	<a href="index.html">-->main-page</a>
</div> 
</div>
<h1>(4) Export Climate Data - settings</h1>

<div class="horizontal-box">
<div class="spacer"></div>
<div class="center">
<button id="button_cancel">[X] discard</button>
<button id="button_apply">[OK] save</button>
</div> <!--END center-->
<div class="spacer"></div>
</div> <!--END horizontal-box-->

<hr/>
</div>
<div id="div_help_English" style="display:none">
<h3>Help</h3>
On this page you can specify general setting of the time series generating process and of the zip file containing the exported data.

<br><br><b>Quality checks</b>
<ul>
	<li><b>"0: no quality check"</b>: No quality check will be applied.</li>
	<li><b>"1: just physical range check"</b>: Parameter specific range of values will be checked.</li>
	<li><b>"2: physical range + step range check"</b>: (additional) Parameter specific value change in time will be checked.</li>
	<li><b>"3: physical range + step + empirical check"</b>: (additional) Value will be checked in comparison to mean value of the station group.</li>
</ul>

<b>Interpolation</b>
<br>Set check at "try to interpolate missing data" to fill gaps in time series if possible and plausible.

<br><br>Click on "<b>[X] discard</b>" to discard changed. 
<br>Click on "<b>[OK] save</b>" to confirm changes and go back to overview-page to review your specified settings. There you can start the download by the "create ZIP-file"-button.
<hr/>
</div>

<div id="div_help_Deutsch" style="display:none">
	<h3>Anleitung</h3>
	Auf dieser Seite können Sie allgemeine Einstellungen für den Prozess der Zeitreihenerzeugung und für die Zip-Datei mit den exportierten Daten vornehmen.

	<br><br><b>Qualitätsprüfungen</b>
	<ul>
		<li><b>"0: no quality check"</b>: Es wird keine Qualitätsprüfung durchgeführt.</li>
		<li><b>"1: just physical range check"</b>: Parameterspezifischer Wertebereich wird geprüft.</li>
		<li><b>"2: physical range + step range check"</b>: (zusätzlich) Parameterspezifische Wertänderung in der Zeit wird geprüft.</li>
		<li><b>"3: physical range + step + empirical check"</b>: (zusätzlich) Wert wird im Vergleich zum Mittelwert der Stationsgruppe überprüft.</li>
	</ul>

	<b>Interpolation</b>
	<br>Kreuzen sie "try to interpolate missing data" an, um Lücken in Zeitreihen zu füllen, falls möglich und plausibel.
	
	<br><br>Ein Klick auf "<b>[X] discard</b>" verwirft die Änderungen. 
	<br>Ein Klick auf "<b>[OK] save</b>" bestätigt die Änderungen und führt zurück zur Übersichtsseite, um Ihre angegebenen Einstellungen zu überprüfen. Dort können Sie den Download über den "create ZIP-file"-Button starten.
	<hr/>
</div>

<div class="horizontal-box">
<div class="spacer"></div>
<div class="center main">
<i>Specify settings for your data request.</i>
<h3>Settings</h3>

<p>

<div id="div_quality">
<label for="choose_quality">quality check of measured values</label>
<select id="choose_quality">
<option value="no">0: no quality check</option>
<option value="physical">1: just physical range check</option>
<option value="step">2: physical range + step range check</option>
<option value="empirical">3: physical range + step + empirical check</option>
</select>
</div>

</p>

<h4>options</h4>
<div id="div_interpolate">
<p><input type="checkbox" id="interpolate"><label for="interpolate">try to interpolate missing data</label></p>
</div>
<p><input type="checkbox" id="allinone"><label for="allinone">write all plots in one CSV-File</label></p>
<p><input type="checkbox" id="write_header"><label for="write_header">write header in CSV-Files</label></p>
<h4>columns in CSV-Files</h4>
<p><input type="checkbox" id="col_plotid"><label for="col_plotid">include column &quot;<i>plotID</i>&quot;</label></p>
<p><input type="checkbox" id="col_timestamp"><label for="col_timestamp">include column &quot;<i>timestamp</i>&quot;  (time in minutes since 1899-12-30T00:00 - based on OLE Automation Time)</label></p>
<p><input type="checkbox" id="col_datetime"><label for="col_datetime">include column &quot;<i>datetime</i>&quot; (according to <a href="https://en.wikipedia.org/wiki/ISO_8601#Combined_date_and_time_representations" target="_blank">ISO 8601</a>: {yyyy-mm-ddThh}  [year]-[month]-[day]T[hour] e.g. 1999-12-31T23:59 )</label></p>
<p><input type="checkbox" id="col_qualitycounter"><label for="col_qualitycounter">include column &quot;<i>qualitycounter</i>&quot; (counters of aggregated values: {c[COUNT]i[COUNT]_c[COUNT]i[COUNT]...}
A count of values refers to hourly values.
<br>1st example: <i>c99i3_c20</i>  ==>  first parameter with 99 values in aggregate of which 3 are interpolated, second parameter 20 values no interpolation  )
<br>2nd example: <i>__c744i744</i>  ==> first and second parameter with no value third parameter is aggreate of 774 values, all values are interpolated (all 744 hours of one month with 31 days) )</label></p>
<h4>additional files in ZIP-archive</h4>
<p><input type="checkbox" id="desc_sensor"><label for="desc_sensor">parameter (sensor) description</label></p>
<p><input type="checkbox" id="desc_plot"><label for="desc_plot">plot description with geographic position (latitude longitude coordinates, <a  target="_blank" href="https://en.wikipedia.org/wiki/World_Geodetic_System#WGS84">WGS84</a>)</label></p>
<p><input type="checkbox" id="desc_settings"><label for="desc_settings">info about used settings</label></p>
<p>Text Encoding: <i>Unicode (<a  target="_blank" href="https://en.wikipedia.org/wiki/UTF-8">UTF-8</a>)</i> (Select this character encoding in your viewer (e.g. in Excel CSV-import) if you experience wrong characters.)

</div> <!--END center-->
<div class="spacer"></div>
</div> <!--END horizontal-box-->
</body>
</html>